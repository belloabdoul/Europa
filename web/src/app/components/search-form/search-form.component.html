<ion-list lines="none">
  <ion-item-group>
    <ion-item>
      <ion-label class="ion-text-nowrap">Add directory</ion-label>
      <ion-button shape="round" matTooltip="Choose directory using dialog">
        <ion-icon name="add" size="large" slot="icon-only"></ion-icon>
      </ion-button>
      <ion-button
        id="manual-path"
        shape="round"
        matTooltip="Enter directory path manually"
      >
        <ion-icon name="create" size="large" slot="icon-only"></ion-icon>
      </ion-button>
      <ion-popover
        trigger="manual-path"
        size="auto"
        alignment="center"
        side="bottom"
      >
        <ng-template>
          <ion-content class="ion-padding">
            <ion-item>
              <ion-input
                label="Enter the full path to the folder"
                type="text"
                clearInput="true"
                placeholder="C:\Users\bello\Desktop\"
                label-placement="floating"
              ></ion-input>
            </ion-item>
            <ion-button shape="round" class="ion-float-end">
              <ion-icon name="save" slot="icon-only"></ion-icon>
            </ion-button>
          </ion-content>
        </ng-template>
      </ion-popover>
    </ion-item>
    <ion-item>
      @if(searchParameters.folders.size == 0) {
      <ion-label class="ion-text-center"
        >No directories added for now</ion-label
      >
      } @else {
      <ion-list lines="none" class="content-nowrap">
        @for (folder of searchParameters.folders; track folder) {
        <ion-item>
          <ion-label class="ion-text-nowrap">
            {{ folder }}
          </ion-label>
          <ion-button shape="round" slot="end">
            <ion-icon name="close" slot="icon-only"></ion-icon>
          </ion-button>
        </ion-item>
        }
      </ion-list>
      }
    </ion-item>
  </ion-item-group>

  <ion-item>
    <ion-toggle
      labelPlacement="start"
      [(ngModel)]="searchParameters.includeSubFolders"
    >
      Include subdirectories
    </ion-toggle>
  </ion-item>

  <ion-item>
    <ion-select
      aria-label="Search type"
      interface="popover"
      label="Search type"
      [(ngModel)]="searchParameters.fileSearchType"
    >
      @for (searchType of fileSearchTypeLabels; track $index) {
      <ion-select-option [value]="fileSearchTypeMapper[searchType]">{{
        searchType
      }}</ion-select-option>
      }
    </ion-select>
  </ion-item>

  @if(fileSearchType[searchParameters.fileSearchType] ==
  fileSearchType.Images.toString()){
  <ion-item>
    <ion-input
      label="Degree of similarity"
      type="number"
      placeholder="5"
      counter="1"
      max="20"
      min="0"
      [(ngModel)]="searchParameters.degreeOfSimilarity"
      label-placement="floating"
    ></ion-input>
  </ion-item>
  }

  <ion-item>
    <ion-input
      label="Minimum size"
      type="number"
      placeholder="5"
      counter="1"
      [max]="maxValue"
      min="0"
      [(ngModel)]="searchParameters.minSize"
      label-placement="floating"
    ></ion-input>
  </ion-item>

  <ion-item>
    <ion-input
      label="Maximum size"
      type="number"
      placeholder="5"
      counter="1"
      [max]="maxValue"
      min="0"
      [(ngModel)]="searchParameters.maxSize"
      label-placement="floating"
    ></ion-input>
  </ion-item>

  <ion-item>
    <div class="ion-chip-group full-width">
      <ion-input
        label="Enter extensions to include"
        helperText="The extension should not include the dot"
        id="extensionsToInclude"
        class="wrap"
        placeholder="pdf"
        labelPlacement="floating"
        (keydown.enter)="addExtension($event)"
        (keydown.backspace)="removeExtension($event)"
        (keypress)="restoreChip($event)"
        (focusout)="restoreChip($event)"
      ></ion-input>
    </div>
  </ion-item>

  <ion-item>
    <div class="ion-chip-group full-width">
      <ion-input
        label="Enter extensions to exlude"
        helperText="The extension should not include the dot"
        id="extensionsToExclude"
        class="wrap full-width"
        placeholder="pdf"
        labelPlacement="floating"
        (keydown.enter)="addExtension($event)"
        (keydown.backspace)="removeExtension($event)"
        (keypress)="restoreChip($event)"
        (focusout)="restoreChip($event)"
      ></ion-input>
    </div>
  </ion-item>
</ion-list>
